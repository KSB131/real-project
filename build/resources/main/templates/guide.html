<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">
<head><title>체위 가이드</title></head>
<body>
    <div layout:fragment="content">
        <div>
            <h2 class="page-title">체위 변경 가이드</h2>
            <p class="page-description">일러스트 및 애니메이션 가이드</p>
        </div>

        <!-- 현재 알림 환자 -->
        <div class="alert-patient-card">
            <div class="page-header" style="margin-bottom:16px;">
                <div>
                    <span class="badge" style="background:#ef4444; color:white;">현재 알림</span>
                    <h3 th:text="${patient != null} ? ${patient.location + ' - ' + patient.name} : '103호 B - 강○○'" 
                        style="font-size:20px; font-weight:bold; margin-top:8px;">103호 B - 강○○</h3>
                </div>
                <div style="text-align:right;">
                    <div style="color:#dc2626; font-weight:bold; font-size:18px;">앙와위 → 좌측위 변경 필요</div>
                    <div style="color:#6b7280;">유지 시간: 2시간 30분</div>
                </div>
            </div>

            <div class="guide-container">
                <div class="guide-grid">
                    <div class="pose-box">
                        <div class="pose-image pose-image-current">
                            <span style="font-size:48px;">🛏️</span>
                            <span class="pose-label" style="color:#6b7280;">현재: 앙와위</span>
                        </div>
                        <p style="margin-top:8px; font-size:14px; color:#4b5563;">바로 누운 자세</p>
                    </div>
                    <div class="guide-arrow">→</div>
                    <div class="pose-box">
                        <div class="pose-image pose-image-recommend">
                            <span style="font-size:48px;">🛌</span>
                            <span class="pose-label" style="color:#16a34a; font-weight:500;">권장: 좌측위</span>
                        </div>
                        <p style="margin-top:8px; font-size:14px; color:#4b5563;">왼쪽으로 누운 자세</p>
                    </div>
                </div>

                <div class="guide-steps">
                    <h4 class="guide-steps-title">📖 체위 변경 방법</h4>
                    <div class="guide-steps-grid">
                        <div class="guide-step"><span class="guide-step-number">1</span><span>환자에게 체위 변경을 안내합니다</span></div>
                        <div class="guide-step"><span class="guide-step-number">2</span><span>베개를 등 뒤에 받쳐줍니다</span></div>
                        <div class="guide-step"><span class="guide-step-number">3</span><span>환자를 좌측으로 천천히 돌려눕힙니다</span></div>
                        <div class="guide-step"><span class="guide-step-number">4</span><span>압박 부위를 확인합니다</span></div>
                    </div>
                </div>

                <div class="warning-box">
                    <h4 class="warning-title">⚠️ 이 환자 주의사항</h4>
                    <p class="warning-text" th:text="${patient != null} ? ${patient.note} : '욕창 3단계 - 엉덩이 부위 압박 주의'">욕창 3단계 - 엉덩이 부위 압박 주의</p>
                </div>
            </div>

            <form th:action="@{/guide/complete}" method="post" style="text-align:center; margin-top:16px;">
                <input type="hidden" name="patientId" th:value="${patient?.id}" value="1">
                <button type="submit" class="btn btn-success">✓ 체위 변경 완료</button>
            </form>
        </div>

        <!-- 자세 유형 가이드 -->
        <div class="card">
            <h3 class="card-title">자세 유형 가이드</h3>
            <div class="stats-grid">
                <div class="summary-item text-center">
                    <div style="font-size:32px; margin-bottom:8px;">🛏️</div>
                    <div style="font-weight:500;">앙와위</div>
                    <div style="font-size:14px; color:#6b7280;">바로 누운 자세</div>
                </div>
                <div class="summary-item text-center">
                    <div style="font-size:32px; margin-bottom:8px;">🛌</div>
                    <div style="font-weight:500;">좌측위</div>
                    <div style="font-size:14px; color:#6b7280;">왼쪽으로 누운 자세</div>
                </div>
                <div class="summary-item text-center">
                    <div style="font-size:32px; margin-bottom:8px;">🛌</div>
                    <div style="font-weight:500;">우측위</div>
                    <div style="font-size:14px; color:#6b7280;">오른쪽으로 누운 자세</div>
                </div>
                <div class="summary-item text-center">
                    <div style="font-size:32px; margin-bottom:8px;">🛏️</div>
                    <div style="font-weight:500;">복와위</div>
                    <div style="font-size:14px; color:#6b7280;">엎드린 자세</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
